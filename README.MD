# –í–∏–∫—Ç–æ—Ä–∏–Ω–∞-–±–æ—Ç –¥–ª—è Telegram –∏ VK

–î–≤–∞ –±–æ—Ç–∞ —Å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã –¥–ª—è Telegram –∏ VK, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –æ–±—â—É—é –±–∞–∑—É –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ –æ–±–æ–∏—Ö –±–æ—Ç–∞—Ö
- –°–∏—Å—Ç–µ–º–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ –±–æ–ª—å—à–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–Ω–æ–ø–æ—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å

### üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- Redis (–ª–æ–∫–∞–ª—å–Ω—ã–π –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–π)

### üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞
- –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/karaman56/viktorina
cd quiz-bot
```

- –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
–∏–ª–∏ venv\Scripts\activate     # Windows


- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env:

```bash
cp .env.example .env
```
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:
.env
TELEGRAM_BOT_TOKEN=–≤–∞—à_telegram_–±–æ—Ç_—Ç–æ–∫–µ–Ω
VK_BOT_TOKEN=–≤–∞—à_vk_–±–æ—Ç_—Ç–æ–∫–µ–Ω
REDIS_HOST=—Ö–æ—Å—Ç_redis
REDIS_PORT=–ø–æ—Ä—Ç_redis
REDIS_PASSWORD=–ø–∞—Ä–æ–ª—å_redis

- üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
Telegram –±–æ—Ç:
–ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π /newbot
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ .env
VK –±–æ—Ç:
–°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
–í —Ä–∞–∑–¥–µ–ª–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" ‚Üí "–†–∞–±–æ—Ç–∞ —Å API" —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á
–í–∫–ª—é—á–∏—Ç–µ Long Poll API
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ .env

Redis:
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π Redis –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å
–î–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ Redis –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis Labs –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–π
–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã:
–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –≤ –ø–∞–ø–∫—É quiz-questions
–§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ koi8-r
–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤: "–í–æ–ø—Ä–æ—Å N: —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞\n–û—Ç–≤–µ—Ç: –æ—Ç–≤–µ—Ç"

### üöÄ –ó–∞–ø—É—Å–∫
–ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞:
```bash
python bot_telegram.py
```
–ó–∞–ø—É—Å–∫ VK –±–æ—Ç–∞:
```bash
python bot_vk.py
```
- üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
"–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å" - –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å

"–°–¥–∞—Ç—å—Å—è" - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞)

"–ú–æ–π —Å—á—ë—Ç" - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–õ—é–±–æ–π —Ç–µ–∫—Å—Ç - –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å

–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
–ë–æ—Ç –∑–∞–¥–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å –∏–∑ –±–∞–∑—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å

–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ—Ç–≤–µ—Ç–µ +1 –±–∞–ª–ª

–ü—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º - –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ –∏–ª–∏ —Å–¥–∞—Ç—å—Å—è

–ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ —Å–¥–∞—á–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å


üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
Redis —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
user:{user_id}:question - —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user:{user_id}:score - —Å—á–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–§–∞–π–ª—ã –≤–æ–ø—Ä–æ—Å–æ–≤:

–§–æ—Ä–º–∞—Ç: koi8-r –∫–æ–¥–∏—Ä–æ–≤–∫–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞: "–í–æ–ø—Ä–æ—Å N: —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞\n–û—Ç–≤–µ—Ç: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤, –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
[INFO] - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
[ERROR] - –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
[EVENT] - –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ .env
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis –¥–æ—Å—Ç—É–ø–µ–Ω
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

–í–æ–ø—Ä–æ—Å—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ quiz-questions —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É —Ñ–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å koi8-r)
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

–û—à–∏–±–∫–∏ Redis:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–æ—Å—Ç, –ø–æ—Ä—Ç –∏ –ø–∞—Ä–æ–ª—å –≤ .env
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞



